(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8d7df8ca"],{"0d0a":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",class:[t.myTheme]},[s("div",{staticClass:"tab_content"},[s("ul",{staticClass:"list_container",class:t.position_class},t._l(t.tabs,(function(e,a){return s("li",{key:e.id,staticClass:"tab_list",class:[{heightLight:t.actives[a]}],on:{click:function(s){return t.changeTabs(e,a)}}},[s("span",{staticClass:"tab_inner"},[t._v(t._s(e.name))])])})),0)]),t._v(" "),s("div",{staticClass:"chat_content"},t._l(t.tabs,(function(e,a){return s("div",{key:e.id,ref:"drawer",refInFor:!0},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.actives[a],expression:"actives[index]"}],staticClass:"contact_person"},[s("span",{staticClass:"show_pic"},[s("ul",t._l(t.background_class,(function(a){return s("li",{key:a.id,class:a.className,on:{click:function(s){return t.background_chose(e,a.className)}}})})),0)]),t._v(" "),t._t("default"),t._v(" "),s("my-talking",{attrs:{theme:t.theme,background:e.img,item:e,personalpic:t.personalpic}})],2)])})),0)])},n=[],i=(s("ac6a"),s("2b0e")),c=s("30cb"),o={props:{tabs:Array,position:String,theme:String,personalpic:String},data:function(){return{actives:[],test:[!0],is_left:!1,background_class:[{id:1,className:"background1"},{id:2,className:"background2"},{id:3,className:"background3"}]}},components:{myTalking:c["default"]},computed:{position_class:function(){return"is_".concat(this.position)},myTheme:function(){return"is_".concat(this.theme)}},created:function(){var t=this;this.tabs.forEach((function(e,s){t.actives[s]=!1})),this.actives[0]=!0},mounted:function(){},methods:{changeTabs:function(t,e){for(var s=0;s<this.actives.length;s++)this.actives[s]=!1;i["default"].set(this.actives,e,!0)},background_chose:function(t,e){t.img=e}}},r=o,l=(s("9409"),s("2877")),u=Object(l["a"])(r,a,n,!1,null,"0bd997d7",null);e["default"]=u.exports},20231:function(t,e,s){},"30cb":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",class:[t.themeClass,t.backgroundClass]},[s("div",{ref:"record",staticClass:"chat_record"}),t._v(" "),s("span",{staticClass:"active_name"},[t._v("\n    "+t._s(t.item.name)+"\n  ")]),t._v(" "),s("div",{staticClass:"msg_input"},[s("el-input",{staticClass:"mesage",attrs:{placeholder:"请输入内容"},on:{change:t.sent},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},[s("i",{staticClass:"el-input__icon el-icon-s-custom",attrs:{slot:"prefix"},slot:"prefix"})])],1)])},n=[],i=(s("ac6a"),s("7f7f"),s("bc3a")),c=s.n(i),o={components:{},props:{theme:String,linkname:Array,background:String,personalpic:String,item:Object},data:function(){return{input:"",message:"",record:[],storage:[]}},computed:{themeClass:function(){return"theme_".concat(this.theme)},backgroundClass:function(){return"".concat(this.background)}},mounted:function(){var t=this,e=this.item.name,s=JSON.parse(localStorage.myRecord);s[e]&&s[e].forEach((function(e){e["self"]?t.$mynotify({message:"".concat(e["self"]),type:"right",className:"main",Pic:t.personalpic,theme:t.theme,whereDiv:t.$refs.record}):t.$mynotify({message:"".concat(e["answer"]),type:"left",className:"main",theme:t.theme,whereDiv:t.$refs.record})}))},methods:{sent:function(){this.$mynotify({message:"".concat(this.input),type:"right",className:"main",Pic:this.personalpic,theme:this.theme,whereDiv:this.$refs.record}),this.dataStorage("self"),this.getAnswer(),document.querySelector(".chat_record").scrollTop=document.querySelector(".chat_record").scrollHeight,this.input=""},getAnswer:function(){var t=this;c()({method:"get",url:"https://www.tuling123.com/openapi/api?key=6c2cfaf7a7f088e843b550b0c5b89c26&&info=".concat(this.input)}).then((function(e){t.answer=e.data.text;var s=t.answer.length/4*1e3;setTimeout((function(){t.$mynotify({message:"".concat(t.answer),type:"left",className:"main",theme:t.theme,whereDiv:t.$refs.record})}),s)})),this.dataStorage("answer")},dataStorage:function(t){if("undefined"!==typeof Storage){var e=this.item.name,s={};s[t]=this.input;var a=localStorage.getItem("myRecord");if(null===a){var n={};n[e]=[],n[e].push(s);var i=JSON.stringify(n);localStorage.setItem("myRecord",i)}else{var c=JSON.parse(a);if(c[e]){c[e].push(s);var o=JSON.stringify(c);localStorage.setItem("myRecord",o)}else{c[e]=[],c[e].push(s);var r=JSON.stringify(c);localStorage.setItem("myRecord",r)}}}}}},r=o,l=(s("6469"),s("2877")),u=Object(l["a"])(r,a,n,!1,null,"6b7979fa",null);e["default"]=u.exports},"5fd0":function(t,e,s){},6469:function(t,e,s){"use strict";s("5fd0")},"6a0d":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",class:[t.theme]},[s("div",{ref:"drawer",staticClass:"header"},[s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.linkName,callback:function(e){t.linkName=e},expression:"linkName"}}),t._v(" "),s("el-button",{staticClass:"el-icon-search",on:{click:t.seachLinkman}},[t._v("搜索")]),t._v(" "),s("span",{staticClass:"addPerson",on:{click:t.addPerson}},[s("i",{staticClass:"el-icon-plus"})]),t._v(" "),s("el-input",{directives:[{name:"show",rawName:"v-show",value:t.addperson_input,expression:"addperson_input"}],attrs:{type:"text",placeholder:"请输入内容",maxlength:"11","show-word-limit":""},on:{change:t.submit_addPerson},model:{value:t.tabs_name,callback:function(e){t.tabs_name=e},expression:"tabs_name"}}),t._v(" "),s("span",{on:{click:t.themeChange}},["light"===t.theme?s("i",{staticClass:"el-icon-sunny"}):s("i",{staticClass:"el-icon-moon"})]),t._v(" "),s("span",{staticClass:"Pic_container"},[s("div",{staticClass:"item_bock head_p"},[s("div",{staticClass:"head_img"},[s("img",{attrs:{src:t.userInfo.avatar}})]),t._v(" "),s("div",{staticClass:"setting_right",on:{click:function(e){return e.stopPropagation(),t.uploadHeadImg(e)}}},[s("div",{staticClass:"caption"},[t._v("更改头像")])]),t._v(" "),s("input",{staticClass:"hiddenInput",attrs:{type:"file",accept:"image/*"},on:{change:t.handleFile}})])])],1),t._v(" "),s("el-alert",{directives:[{name:"show",rawName:"v-show",value:t.linkAlert,expression:"linkAlert"}],attrs:{title:t.title,type:"info","close-text":"知道了"}}),t._v(" "),s("div",{staticClass:"tab_container",on:{click:t.changeBackground}},[s("myTabs",{attrs:{tabs:t.tabs,position:t.position,theme:t.theme,personalpic:t.userInfo.avatar}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.choseBoxOpen,expression:"choseBoxOpen"}],staticClass:"changebackBox"},[t._v("请选择背景图片\n      ")])])],1)],1)},n=[],i=(s("7f7f"),s("0d0a")),c=s("f00d"),o=s.n(c),r={components:{myTabs:i["default"]},data:function(){return{tabPosition:"left",editable:!0,tabs:[{name:"张三",isActive:!0,img:""},{name:"李四",isActive:!1,img:""},{name:"老王",isActive:!1,img:""}],test:12,search:"",linkName:"",linkAlert:!1,title:"",position:"left",theme:"light",choseBoxOpen:!1,addperson_input:!1,tabs_name:"",userInfo:{avatar:o.a}}},computed:{},methods:{seachLinkman:function(){this.linkAlert=!0;for(var t=0;t<this.name.length;t++){if(-1!==this.linkName.indexOf(this.name[t])){this.title=this.linkName;break}this.title="无结果"}this.linkName=""},themeChange:function(){"light"===this.theme?this.theme="dark":this.theme="light"},changeBackground:function(){this.choseBoxOpen=!this.choseBoxOpen},addPerson:function(){this.addperson_input=!this.addperson_input},submit_addPerson:function(){this.tabs.push({name:this.tabs_name,isActive:!1}),this.tabs_name="",this.choseBoxOpen=!this.choseBoxOpen},uploadHeadImg:function(){this.$el.querySelector(".hiddenInput").click()},handleFile:function(t){var e=this,s=t.target||t.srcElement,a=s.files[0],n=new FileReader;n.onload=function(t){var s=t.target||t.srcElement;e.userInfo.avatar=s.result},n.readAsDataURL(a)}}},l=r,u=(s("ffe9"),s("2877")),h=Object(u["a"])(l,a,n,!1,null,"0402f8d0",null);e["default"]=h.exports},9409:function(t,e,s){"use strict";s("20231")},"945c":function(t,e,s){},f00d:function(t,e,s){t.exports=s.p+"static/img/imgUrl.d8ece577.jpg"},ffe9:function(t,e,s){"use strict";s("945c")}}]);